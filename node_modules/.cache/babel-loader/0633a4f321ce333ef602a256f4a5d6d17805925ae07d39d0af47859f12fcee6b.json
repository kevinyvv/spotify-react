{"ast":null,"code":"import _slicedToArray from\"/Users/kevin/spotify-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from'./logo.svg';import'./App.css';import{useEffect,useState}from'react';import axios from'axios';import Authorize from'./Components/authorize';import TopSongs from'./Components/TopSongs';import Main from'./Components/mainpage';import Top from'./Components/ScrollToTop';import Hero from'./Components/Hero';import{ErrorBoundary}from'react-error-boundary';import Footer from'./Components/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];// gets token from local storage by splitting hash at accesstoken value\nuseEffect(function(){var hash=window.location.hash;var token=window.localStorage.getItem(\"token\");if(!token&&hash){token=hash.substring(1).split(\"&\").find(function(elem){return elem.startsWith(\"access_token\");}).split(\"=\")[1];window.location.hash=\"\";window.localStorage.setItem(\"token\",token);}setToken(token);},[]);// for errors\nfunction Fallback(_ref){var error=_ref.error;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Something went wrong. Reload the page and login again?\"})});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(ErrorBoundary,{FallbackComponent:Fallback,children:[/*#__PURE__*/_jsx(Authorize,{}),/*#__PURE__*/_jsx(Hero,{}),/*#__PURE__*/_jsx(Top,{}),/*#__PURE__*/_jsx(Main,{})]})});}export default App;/*\n  const [searchKey, setSearchKey] = useState(\"\")\n  const [artists, setArtists] = useState([])\n\n  const searchArtists = async (e) => {\n    e.preventDefault()\n    const {data} = await axios.get(\"http://api.spotify.com/v1/search\", {\n        headers: {\n            Authorization: `Bearer ${token}`\n        },\n        params: {\n            q: searchKey,\n            type: \"artist\"\n        }\n    })\n\n    setArtists(data.artists.items)\n  }\n\n  const renderArtists = () => {\n    return artists.map(artist => (\n        <div key={artist.id}>\n            {artist.images.length ? <img width={\"100%\"} src={artist.images[0].url} alt=\"\"/> : <div>No Image</div>}\n            {artist.name}\n        </div>\n    ))\n  }\n  */","map":{"version":3,"names":["logo","useEffect","useState","axios","Authorize","TopSongs","Main","Top","Hero","ErrorBoundary","Footer","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","token","setToken","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","Fallback","_ref","error","children","FallbackComponent"],"sources":["/Users/kevin/spotify-react/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport Authorize from './Components/authorize';\nimport TopSongs from './Components/TopSongs';\nimport Main from './Components/mainpage';\nimport Top from './Components/ScrollToTop'\nimport Hero from './Components/Hero';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport Footer from './Components/Footer';\n\nfunction App() {\n  const [token, setToken] = useState(\"\")\n\n// gets token from local storage by splitting hash at accesstoken value\n  useEffect(() => {\n    const hash = window.location.hash\n    let token = window.localStorage.getItem(\"token\")\n\n    if (!token && hash) {\n        token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n        window.location.hash = \"\"\n        window.localStorage.setItem(\"token\", token)\n    }\n\n    setToken(token)\n\n  }, [])\n\n  // for errors\n  function Fallback({error}) {\n    return (\n      <div>\n        <p>Something went wrong. Reload the page and login again?</p>\n      </div>\n    )\n  }\n\n  return(\n    <div>\n      <ErrorBoundary\n      FallbackComponent={Fallback}>\n      <Authorize/>\n      <Hero/>\n      <Top/>\n      <Main/>\n      </ErrorBoundary>\n    </div>\n  )\n}\n\nexport default App;\n\n\n\n/*\n  const [searchKey, setSearchKey] = useState(\"\")\n  const [artists, setArtists] = useState([])\n\n  const searchArtists = async (e) => {\n    e.preventDefault()\n    const {data} = await axios.get(\"http://api.spotify.com/v1/search\", {\n        headers: {\n            Authorization: `Bearer ${token}`\n        },\n        params: {\n            q: searchKey,\n            type: \"artist\"\n        }\n    })\n\n    setArtists(data.artists.items)\n  }\n\n  const renderArtists = () => {\n    return artists.map(artist => (\n        <div key={artist.id}>\n            {artist.images.length ? <img width={\"100%\"} src={artist.images[0].url} alt=\"\"/> : <div>No Image</div>}\n            {artist.name}\n        </div>\n    ))\n  }\n  */\n\n\n  "],"mappings":"gHAAA,MAAO,CAAAA,IAAI,KAAM,YAAY,CAC7B,MAAO,WAAW,CAClB,OAAQC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CACxC,MAAO,CAAAC,GAAG,KAAM,0BAA0B,CAC1C,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,OAASC,aAAa,KAAQ,sBAAsB,CACpD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA0Bd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAExB;AACEhB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAoB,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CACjC,GAAI,CAAAF,KAAK,CAAGG,MAAM,CAACE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAEhD,GAAI,CAACN,KAAK,EAAIE,IAAI,CAAE,CAChBF,KAAK,CAAGE,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,UAAU,CAAC,cAAc,CAAC,GAAC,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAEhGL,MAAM,CAACC,QAAQ,CAACF,IAAI,CAAG,EAAE,CACzBC,MAAM,CAACE,YAAY,CAACO,OAAO,CAAC,OAAO,CAAEZ,KAAK,CAAC,CAC/C,CAEAC,QAAQ,CAACD,KAAK,CAAC,CAEjB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,QAAS,CAAAa,QAAQA,CAAAC,IAAA,CAAU,IAAR,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CACtB,mBACEtB,IAAA,QAAAuB,QAAA,cACEvB,IAAA,MAAAuB,QAAA,CAAG,wDAAsD,CAAG,CAAC,CAC1D,CAAC,CAEV,CAEA,mBACEvB,IAAA,QAAAuB,QAAA,cACErB,KAAA,CAACL,aAAa,EACd2B,iBAAiB,CAAEJ,QAAS,CAAAG,QAAA,eAC5BvB,IAAA,CAACR,SAAS,GAAC,CAAC,cACZQ,IAAA,CAACJ,IAAI,GAAC,CAAC,cACPI,IAAA,CAACL,GAAG,GAAC,CAAC,cACNK,IAAA,CAACN,IAAI,GAAC,CAAC,EACQ,CAAC,CACb,CAAC,CAEV,CAEA,cAAe,CAAAS,GAAG,CAIlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}