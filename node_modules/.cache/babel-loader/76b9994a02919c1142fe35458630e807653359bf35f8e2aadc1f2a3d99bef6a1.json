{"ast":null,"code":"import _slicedToArray from\"/Users/kevin/spotify-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Authorize=function Authorize(){var CLIENT_ID=\"445063991dde42efbaa3536012567e7d\";var REDIRECT_URI=\"https://kevinyvv.github.io/spotify-react\";var AUTH_ENDPOINT=\"https://accounts.spotify.com/authorize\";var SCOPE=\"user-top-read, playlist-modify-public, playlist-modify-private, user-read-email, user-read-private\";var RESPONSE_TYPE=\"token\";var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),used=_useState4[0],setUsed=_useState4[1];// gets token from local storage by splitting hash at accesstoken value\nuseEffect(function(){var hash=window.location.hash;var token=window.localStorage.getItem(\"token\");if(!token&&hash){token=hash.substring(1).split(\"&\").find(function(elem){return elem.startsWith(\"access_token\");}).split(\"=\")[1];window.location.hash=\"\";window.localStorage.setItem(\"token\",token);setUsed(true);}setToken(token);},[]);//logs out by removing token\nvar logout=function logout(){setToken(\"\");window.localStorage.removeItem(\"token\");setUsed(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-black h-4/5\",id:\"top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white font-bold sm:text-2xl text-lg my-4 mx-4\",children:/*#__PURE__*/_jsx(\"text\",{className:\"font-montserrat\",children:\" Spotify Discover Whatever Whenever. \"})}),!used&&!token?/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(AUTH_ENDPOINT,\"?client_id=\").concat(CLIENT_ID,\"&redirect_uri=\").concat(REDIRECT_URI,\"&scope=\").concat(SCOPE,\"&response_type=\").concat(RESPONSE_TYPE),className:\"rounded-3xl z-50 bg-white text-black font-montserrat font-bold my-4 mx-4 text-justify py-2 px-4\",children:\"Login to Spotify.\"}):/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"rounded-lg font-bold font-montserrat w-[100px] bg-[#1DB954] hover:bg-[#2bde6a] my-4 mx-4\",children:\"Logout\"})]})});};export default Authorize;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Authorize","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","SCOPE","RESPONSE_TYPE","_useState","_useState2","_slicedToArray","token","setToken","_useState3","_useState4","used","setUsed","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","logout","removeItem","className","id","children","href","concat","onClick"],"sources":["/Users/kevin/spotify-react/src/Components/authorize.jsx"],"sourcesContent":["\nimport {useEffect, useState} from 'react';\nimport axios from 'axios';\n\n\n\nconst Authorize = () => {\n  const CLIENT_ID = \"445063991dde42efbaa3536012567e7d\"\n  const REDIRECT_URI = \"https://kevinyvv.github.io/spotify-react\"\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\n  const SCOPE = \"user-top-read, playlist-modify-public, playlist-modify-private, user-read-email, user-read-private\"\n  const RESPONSE_TYPE = \"token\"\n\n  const [token, setToken] = useState(\"\")\n  const [used, setUsed] = useState(false)\n\n// gets token from local storage by splitting hash at accesstoken value\n  useEffect(() => {\n    const hash = window.location.hash\n    let token = window.localStorage.getItem(\"token\")\n\n    if (!token && hash) {\n        token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n        window.location.hash = \"\"\n        window.localStorage.setItem(\"token\", token)\n        setUsed(true)\n    }\n\n    setToken(token)\n\n  }, [])\n  //logs out by removing token\n  const logout = () => {\n    setToken(\"\")\n    window.localStorage.removeItem(\"token\")\n    setUsed(false)\n}\n\n  \n\n  return (\n    <div className=\"bg-black h-4/5\" id=\"top\">\n       <div className=\"flex justify-between\">\n              <h1 className='text-white font-bold sm:text-2xl text-lg my-4 mx-4'>\n                <text className='font-montserrat'> Spotify Discover Whatever Whenever. </text>\n                </h1>\n{/* checking if an account is linked */}\n                {!used && !token ? <a href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&scope=${SCOPE}&response_type=${RESPONSE_TYPE}`}\n                className='rounded-3xl z-50 bg-white text-black font-montserrat font-bold my-4 mx-4 text-justify py-2 px-4'>Login to Spotify.</a>\n                    :<button onClick={logout}\n                    className='rounded-lg font-bold font-montserrat w-[100px] bg-[#1DB954] hover:bg-[#2bde6a] my-4 mx-4'> \n                    Logout\n                     </button>}         \n      </div>\n            \n    </div>\n  );\n}\n\nexport default Authorize;"],"mappings":"gHACA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAI1B,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,GAAM,CAAAC,SAAS,CAAG,kCAAkC,CACpD,GAAM,CAAAC,YAAY,CAAG,0CAA0C,CAC/D,GAAM,CAAAC,aAAa,CAAG,wCAAwC,CAC9D,GAAM,CAAAC,KAAK,CAAG,oGAAoG,CAClH,GAAM,CAAAC,aAAa,CAAG,OAAO,CAE7B,IAAAC,SAAA,CAA0BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAwBjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAhCE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEtB;AACEnB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAsB,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CACjC,GAAI,CAAAN,KAAK,CAAGO,MAAM,CAACE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAEhD,GAAI,CAACV,KAAK,EAAIM,IAAI,CAAE,CAChBN,KAAK,CAAGM,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,UAAU,CAAC,cAAc,CAAC,GAAC,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAEhGL,MAAM,CAACC,QAAQ,CAACF,IAAI,CAAG,EAAE,CACzBC,MAAM,CAACE,YAAY,CAACO,OAAO,CAAC,OAAO,CAAEhB,KAAK,CAAC,CAC3CK,OAAO,CAAC,IAAI,CAAC,CACjB,CAEAJ,QAAQ,CAACD,KAAK,CAAC,CAEjB,CAAC,CAAE,EAAE,CAAC,CACN;AACA,GAAM,CAAAiB,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnBhB,QAAQ,CAAC,EAAE,CAAC,CACZM,MAAM,CAACE,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CACvCb,OAAO,CAAC,KAAK,CAAC,CAClB,CAAC,CAIC,mBACEjB,IAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAACC,EAAE,CAAC,KAAK,CAAAC,QAAA,cACrC/B,KAAA,QAAK6B,SAAS,CAAC,sBAAsB,CAAAE,QAAA,eAC9BjC,IAAA,OAAI+B,SAAS,CAAC,oDAAoD,CAAAE,QAAA,cAChEjC,IAAA,SAAM+B,SAAS,CAAC,iBAAiB,CAAAE,QAAA,CAAC,uCAAqC,CAAM,CAAC,CAC1E,CAAC,CAEJ,CAACjB,IAAI,EAAI,CAACJ,KAAK,cAAGZ,IAAA,MAAGkC,IAAI,IAAAC,MAAA,CAAK7B,aAAa,gBAAA6B,MAAA,CAAc/B,SAAS,mBAAA+B,MAAA,CAAiB9B,YAAY,YAAA8B,MAAA,CAAU5B,KAAK,oBAAA4B,MAAA,CAAkB3B,aAAa,CAAG,CACjJuB,SAAS,CAAC,iGAAiG,CAAAE,QAAA,CAAC,mBAAiB,CAAG,CAAC,cAC5HjC,IAAA,WAAQoC,OAAO,CAAEP,MAAO,CACzBE,SAAS,CAAC,0FAA0F,CAAAE,QAAA,CAAC,QAEpG,CAAQ,CAAC,EACnB,CAAC,CAEH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}