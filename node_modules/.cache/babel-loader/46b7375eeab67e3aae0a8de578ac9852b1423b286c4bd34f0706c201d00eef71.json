{"ast":null,"code":"import _slicedToArray from\"/Users/kevin/spotify-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,createContext,useContext}from'react';import axios from'axios';import Authorize from'./authorize';import TopSongs from'./TopSongs';import Recs from'./Recommendations';import FadeIn from'react-fade-in/lib/FadeIn';import{FaArrowUp}from\"react-icons/fa\";import Footer from'./Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];// gets token from local storage by splitting hash at accesstoken value\nuseEffect(function(){var hash=window.location.hash;var token=window.localStorage.getItem(\"token\");if(!token&&hash){token=hash.substring(1).split(\"&\").find(function(elem){return elem.startsWith(\"access_token\");}).split(\"=\")[1];window.location.hash=\"\";window.localStorage.setItem(\"token\",token);}setToken(token);},[]);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),datatopass=_useState4[0],setDataToPass=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),displayrec=_useState6[0],setDisplayrec=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),recstopass=_useState8[0],setRecsToPass=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),displaypl=_useState10[0],setDisplaypl=_useState10[1];function CallBack(childData){setDataToPass(Array.from(childData));setDisplayrec(true);}return/*#__PURE__*/_jsxs(\"div\",{id:\"main\",className:\"w-full mt-[-96px] w-full h-screen mx-auto text-center font-montserrat grow\",children:[/*#__PURE__*/_jsx(TopSongs,{handleCallback:CallBack}),displayrec?/*#__PURE__*/_jsxs(FadeIn,{delay:\"200\",transitionDuration:\"2000\",children:[\" \",/*#__PURE__*/_jsx(Recs,{props:datatopass}),\" \"]}):/*#__PURE__*/_jsxs(FadeIn,{delay:\"1000\",transitionDuration:\"800\",children:[\" \",/*#__PURE__*/_jsx(FaArrowUp,{size:40,className:\"fill-white scale-75 sm:scale-100 lg:scale-150 mt-16 mb-4 mx-auto\"}),/*#__PURE__*/_jsx(\"text\",{className:\"font-bold text-white text-center\",children:\" Click Here. \"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Main;","map":{"version":3,"names":["useEffect","useState","createContext","useContext","axios","Authorize","TopSongs","Recs","FadeIn","FaArrowUp","Footer","jsx","_jsx","jsxs","_jsxs","Main","_useState","_useState2","_slicedToArray","token","setToken","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","_useState3","_useState4","datatopass","setDataToPass","_useState5","_useState6","displayrec","setDisplayrec","_useState7","_useState8","recstopass","setRecsToPass","_useState9","_useState10","displaypl","setDisplaypl","CallBack","childData","Array","from","id","className","children","handleCallback","delay","transitionDuration","props","size"],"sources":["/Users/kevin/spotify-react/src/Components/mainpage.jsx"],"sourcesContent":["\nimport {useEffect, useState, createContext, useContext} from 'react';\nimport axios from 'axios';\nimport Authorize from './authorize';\nimport TopSongs from './TopSongs';\nimport Recs from './Recommendations';\nimport FadeIn from 'react-fade-in/lib/FadeIn';\nimport { FaArrowUp } from \"react-icons/fa\";\nimport Footer from './Footer';\n\nconst Main = () => {\n  const [token, setToken] = useState(\"\")\n\n// gets token from local storage by splitting hash at accesstoken value\n  useEffect(() => {\n    const hash = window.location.hash\n    let token = window.localStorage.getItem(\"token\")\n\n    if (!token && hash) {\n        token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n        window.location.hash = \"\"\n        window.localStorage.setItem(\"token\", token)\n    }\n\n    setToken(token)\n\n  }, [])\n\n  \nconst [datatopass, setDataToPass] = useState([])\nconst [displayrec, setDisplayrec] = useState(false)\nconst [recstopass, setRecsToPass] = useState([])\nconst [displaypl, setDisplaypl] = useState(true)\n\n  function CallBack (childData) {\n    setDataToPass(Array.from(childData))\n    setDisplayrec(true)\n  }\n\n  return(\n    <div id=\"main\" className='w-full mt-[-96px] w-full h-screen mx-auto text-center font-montserrat grow'>\n      <TopSongs handleCallback={CallBack}/>\n      {displayrec ? <FadeIn delay=\"200\" transitionDuration=\"2000\"> <Recs props={datatopass}/> </FadeIn> \n      : <FadeIn delay=\"1000\" transitionDuration=\"800\"> <FaArrowUp size={40} className='fill-white scale-75 sm:scale-100 lg:scale-150 mt-16 mb-4 mx-auto'/>\n      <text className='font-bold text-white text-center'> Click Here. </text> \n      </FadeIn>\n      }\n      <Footer/>\n    </div>\n  )\n}\n\nexport default Main;\n\n\n\n\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}