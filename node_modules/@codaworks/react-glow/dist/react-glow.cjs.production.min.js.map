{"version":3,"file":"react-glow.cjs.production.min.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { CSSProperties, ReactNode, useEffect, useRef } from 'react'\r\n\r\nexport const GlowCapture = ({ className = '', size = 400, ...rest }) => {\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        const move = (e: PointerEvent) => {\r\n            if (e.pointerType === 'mouse') {\r\n                requestAnimationFrame(() => {\r\n                    // @ts-ignore\r\n                    element.current?.style.setProperty('--glow-x', `${e.layerX}px`)\r\n                    // @ts-ignore\r\n                    element.current?.style.setProperty('--glow-y', `${e.layerY}px`)\r\n                })\r\n            }\r\n        }\r\n\r\n        const leave = () => {\r\n            element.current?.style.removeProperty('--glow-x')\r\n            element.current?.style.removeProperty('--glow-y')\r\n        }\r\n\r\n        element.current?.addEventListener('pointermove', move, { passive: true })\r\n        element.current?.addEventListener('pointerleave', leave, { passive: true })\r\n        return () => {\r\n            element.current?.removeEventListener('pointermove', move)\r\n            element.current?.removeEventListener('pointerleave', leave)\r\n        }\r\n    }, [])\r\n\r\n    return <div ref={element}\r\n        className={`glow-capture ${className}`}\r\n        style={{\r\n            position: 'relative',\r\n            '--glow-size': `${size}px`\r\n        } as CSSProperties}\r\n        {...rest} />\r\n}\r\n\r\n\r\nconst mask = `\r\nradial-gradient(var(--glow-size) var(--glow-size) at calc(var(--glow-x, -999px) - var(--glow-left, 0px))\r\ncalc(var(--glow-y, -999px) - var(--glow-top, 0px)), #000000 1%, transparent 50%)\r\n`\r\n\r\nexport const Glow = (\r\n    { className, style, children, color = '#f50057', debug, ...rest }:\r\n        { className: string, style: CSSProperties, children: ReactNode, color: string, debug: boolean }) => {\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n        element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n    })\r\n\r\n    useEffect(() => {\r\n        const observer = new ResizeObserver(() => {\r\n            requestAnimationFrame(() => {\r\n                element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n                element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n            })\r\n        })\r\n\r\n        const capture = element.current?.closest('.glow-capture')\r\n        if (capture)\r\n            observer.observe(capture)\r\n\r\n\r\n        return () => observer.disconnect()\r\n    }, [])\r\n\r\n    return <div ref={element} className='glow' style={{ display: 'grid' }} {...rest}>\r\n        <div className={className}\r\n            style={{\r\n                ...style,\r\n                gridArea: '1/1/1/1'\r\n            }}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n        {/* @ts-ignore */}\r\n        <div className={`glow-mask ${className ? className : ''}`} glow='true'\r\n            style={{\r\n                ...style,\r\n                '--glow-color': color,\r\n                gridArea: '1/1/1/1',\r\n                pointerEvents: 'none',\r\n                mask: debug ? undefined : mask,\r\n                WebkitMask: debug ? undefined : mask\r\n            } as CSSProperties}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n}"],"names":["mask","_ref2","className","style","children","_ref2$color","color","debug","rest","_objectWithoutPropertiesLoose","_excluded2","element","useRef","useEffect","_element$current9","current","setProperty","_element$current10","offsetTop","_element$current11","_element$current12","offsetLeft","observer","ResizeObserver","requestAnimationFrame","_element$current13","_element$current14","_element$current15","_element$current16","capture","_element$current17","closest","observe","disconnect","React","ref","display","_extends","gridArea","glow","--glow-color","pointerEvents","undefined","WebkitMask","_ref","_ref$className","_ref$size","size","_excluded","move","e","pointerType","_element$current","layerX","_element$current2","layerY","leave","_element$current3","removeProperty","_element$current4","_element$current5","addEventListener","passive","_element$current6","_element$current7","removeEventListener","_element$current8","position","--glow-size"],"mappings":";ykBAwCMA,gNAKc,SAAHC,OACXC,EAASD,EAATC,UAAWC,EAAKF,EAALE,MAAOC,EAAQH,EAARG,SAAQC,EAAAJ,EAAEK,MAAAA,WAAKD,EAAG,UAASA,EAAEE,EAAKN,EAALM,MAAUC,EAAIC,EAAAR,EAAAS,GAEzDC,EAAUC,SAAuB,MAuBvC,OArBAC,aAAU,8BACNC,EAAAH,EAAQI,UAARD,EAAiBX,MAAMa,YAAY,qBAAYC,EAAKN,EAAQI,gBAARE,EAAiBC,wBACrEC,EAAAR,EAAQI,UAARI,EAAiBhB,MAAMa,YAAY,sBAAaI,EAAKT,EAAQI,gBAARK,EAAiBC,qBAG1ER,aAAU,iBACAS,EAAW,IAAIC,gBAAe,WAChCC,uBAAsB,8BAClBC,EAAAd,EAAQI,UAARU,EAAiBtB,MAAMa,YAAY,qBAAYU,EAAKf,EAAQI,gBAARW,EAAiBR,wBACrES,EAAAhB,EAAQI,UAARY,EAAiBxB,MAAMa,YAAY,sBAAaY,EAAKjB,EAAQI,gBAARa,EAAiBP,wBAIxEQ,SAAOC,EAAGnB,EAAQI,gBAARe,EAAiBC,QAAQ,iBAKzC,OAJIF,GACAP,EAASU,QAAQH,GAGd,WAAA,OAAMP,EAASW,gBACvB,IAEIC,qCAAKC,IAAKxB,EAAST,UAAU,OAAOC,MAAO,CAAEiC,QAAS,SAAc5B,GACvE0B,qCAAKhC,UAAWA,EACZC,MAAKkC,KACElC,GACHmC,SAAU,aAEV9B,GACHJ,GAGL8B,qCAAKhC,wBAAwBA,GAAwB,IAAMqC,KAAK,OAC5DpC,MAAKkC,KACElC,GACHqC,eAAgBlC,EAChBgC,SAAU,UACVG,cAAe,OACfzC,KAAMO,OAAQmC,EAAY1C,EAC1B2C,WAAYpC,OAAQmC,EAAY1C,KAEhCQ,GACHJ,yBAzFc,SAAHwC,WAAM1C,UAAAA,WAAS2C,EAAG,GAAEA,EAAAC,EAAAF,EAAEG,KAAAA,WAAID,EAAG,IAAGA,EAAKtC,EAAIC,EAAAmC,EAAAI,GACvDrC,EAAUC,SAAuB,MA2BvC,OAzBAC,aAAU,mBACAoC,EAAO,SAACC,GACY,UAAlBA,EAAEC,aACF3B,uBAAsB,0BAElB4B,EAAAzC,EAAQI,UAARqC,EAAiBjD,MAAMa,YAAY,WAAekC,EAAEG,oBAEpDC,EAAA3C,EAAQI,UAARuC,EAAiBnD,MAAMa,YAAY,WAAekC,EAAEK,iBAK1DC,EAAQ,0BACVC,EAAA9C,EAAQI,UAAR0C,EAAiBtD,MAAMuD,eAAe,mBACtCC,EAAAhD,EAAQI,UAAR4C,EAAiBxD,MAAMuD,eAAe,aAK1C,cAFAE,EAAAjD,EAAQI,UAAR6C,EAAiBC,iBAAiB,cAAeZ,EAAM,CAAEa,SAAS,WAClEC,EAAApD,EAAQI,UAARgD,EAAiBF,iBAAiB,eAAgBL,EAAO,CAAEM,SAAS,IAC7D,0BACHE,EAAArD,EAAQI,UAARiD,EAAiBC,oBAAoB,cAAehB,UACpDiB,EAAAvD,EAAQI,UAARmD,EAAiBD,oBAAoB,eAAgBT,MAE1D,IAEItB,qCAAKC,IAAKxB,EACbT,0BAA2BA,EAC3BC,MAAO,CACHgE,SAAU,WACVC,cAAkBrB,SAElBvC"}