{"version":3,"file":"react-glow.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { CSSProperties, ReactNode, useEffect, useRef } from 'react'\r\n\r\nexport const GlowCapture = ({ className = '', size = 400, ...rest }) => {\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        const move = (e: PointerEvent) => {\r\n            if (e.pointerType === 'mouse') {\r\n                requestAnimationFrame(() => {\r\n                    // @ts-ignore\r\n                    element.current?.style.setProperty('--glow-x', `${e.layerX}px`)\r\n                    // @ts-ignore\r\n                    element.current?.style.setProperty('--glow-y', `${e.layerY}px`)\r\n                })\r\n            }\r\n        }\r\n\r\n        const leave = () => {\r\n            element.current?.style.removeProperty('--glow-x')\r\n            element.current?.style.removeProperty('--glow-y')\r\n        }\r\n\r\n        element.current?.addEventListener('pointermove', move, { passive: true })\r\n        element.current?.addEventListener('pointerleave', leave, { passive: true })\r\n        return () => {\r\n            element.current?.removeEventListener('pointermove', move)\r\n            element.current?.removeEventListener('pointerleave', leave)\r\n        }\r\n    }, [])\r\n\r\n    return <div ref={element}\r\n        className={`glow-capture ${className}`}\r\n        style={{\r\n            position: 'relative',\r\n            '--glow-size': `${size}px`\r\n        } as CSSProperties}\r\n        {...rest} />\r\n}\r\n\r\n\r\nconst mask = `\r\nradial-gradient(var(--glow-size) var(--glow-size) at calc(var(--glow-x, -999px) - var(--glow-left, 0px))\r\ncalc(var(--glow-y, -999px) - var(--glow-top, 0px)), #000000 1%, transparent 50%)\r\n`\r\n\r\nexport const Glow = (\r\n    { className, style, children, color = '#f50057', debug, ...rest }:\r\n        { className: string, style: CSSProperties, children: ReactNode, color: string, debug: boolean }) => {\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n        element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n    })\r\n\r\n    useEffect(() => {\r\n        const observer = new ResizeObserver(() => {\r\n            requestAnimationFrame(() => {\r\n                element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n                element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n            })\r\n        })\r\n\r\n        const capture = element.current?.closest('.glow-capture')\r\n        if (capture)\r\n            observer.observe(capture)\r\n\r\n\r\n        return () => observer.disconnect()\r\n    }, [])\r\n\r\n    return <div ref={element} className='glow' style={{ display: 'grid' }} {...rest}>\r\n        <div className={className}\r\n            style={{\r\n                ...style,\r\n                gridArea: '1/1/1/1'\r\n            }}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n        {/* @ts-ignore */}\r\n        <div className={`glow-mask ${className ? className : ''}`} glow='true'\r\n            style={{\r\n                ...style,\r\n                '--glow-color': color,\r\n                gridArea: '1/1/1/1',\r\n                pointerEvents: 'none',\r\n                mask: debug ? undefined : mask,\r\n                WebkitMask: debug ? undefined : mask\r\n            } as CSSProperties}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n}"],"names":["GlowCapture","_ref","className","_ref$className","_ref$size","size","rest","_objectWithoutPropertiesLoose","_excluded","element","useRef","useEffect","move","e","pointerType","requestAnimationFrame","_element$current","current","style","setProperty","layerX","_element$current2","layerY","leave","_element$current3","removeProperty","_element$current4","_element$current5","addEventListener","passive","_element$current6","_element$current7","removeEventListener","_element$current8","React","ref","position","mask","Glow","_ref2","children","_ref2$color","color","debug","_excluded2","_element$current9","_element$current10","offsetTop","_element$current11","_element$current12","offsetLeft","observer","ResizeObserver","_element$current13","_element$current14","_element$current15","_element$current16","capture","_element$current17","closest","observe","disconnect","display","_extends","gridArea","glow","pointerEvents","undefined","WebkitMask"],"mappings":"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"}